(function(){var G=this,B,I=/\s+/,J=/([A-Z])/g,C=/^[^<]*(<(.|\s)+>)[^>]*$/,H=/z-?index|font-?weight|opacity|zoom|line-?height/i,A=document.createElement("div"),F=Array.prototype,E=HTMLElement.prototype;var D=function(K,L){if(this instanceof D&&!this.inited){return this.init(K,L)}else{return new D(K,L)}};G.simpli5=D;if(!("$" in G)){G.$=D}D.fn=D.prototype={constructor:D,concat:function(K){return new D(F.concat.apply(this,arguments),this.context)},every:F.every,filter:function(K,L){return new D(F.filter.call(this,K,L),this.context)},forEach:F.forEach,indexOf:F.indexOf,join:F.join,lastIndexOf:F.lastIndexOf,map:function(K,L){return new D(F.map.call(this,K,L),this.context)},pop:F.pop,push:F.push,reduce:F.reduce,reduceRight:F.reduceRight,reverse:F.reverse,shift:F.shift,slice:function(L,K){return new D(F.slice.call(this,L,K),this.context)},some:F.some,sort:F.sort,splice:function(M,L,K){return new D(F.splice.apply(this,arguments),this.context)},unshift:F.unshift,init:function(K,M){var L;this.context=M||document;this.inited=true;if(!K){return }else{if(K.nodeType){this.push(K);this.context=K}else{if(typeof K==="string"){this.merge(this.context.querySelectorAll(K))}else{if(K instanceof Function){return D.onReady(K)}else{this.merge(K)}}}}},extend:function(M){var L=this;if(arguments.length==2){L=arguments[0];M=arguments[1]}for(var K in M){L[K]=M[K]}},merge:function(K){if(K==null){return }if(!(K instanceof Array)&&("length" in K)){K=D.toArray(K)}if(K instanceof Array){this.push.apply(this,K)}else{this.push(K)}},find:function(K){var L=new D();this.forEach(function(M){L.merge(M.querySelectorAll(K))})},toString:function(){return"simpli5: ["+this.join(",")+"]"}};D.extend=D.prototype.extend;D.node=Node.prototype;D.node.extend=D.extend;D.element=E;D.element.extend=D.extend;D.extend({onReady:function(K){document.on("DOMContentLoaded",K)},forEach:function(L,K){F.forEach.call(L,K)},toArray:function(L){if(L instanceof Array){return L}var K=F.slice.call(L);if(!K.length&&L!=null&&!("length" in L)){return[L]}return K},fragment:function(M){var N=document.createDocumentFragment();if(M instanceof Node){return M;N.appendChild(M)}else{if(typeof M=="string"){A.innerHTML=M;while(A.firstChild){N.appendChild(A.firstChild)}}else{if(M instanceof Array||M instanceof NodeList){for(var L=0,K=M.length;L<K;L++){N.appendChild(M[L])}}}}return N},html:function(K){return this.fragment(K).firstChild},map:function(K){var Q=D.map,O=D.fn,M=D.element,P=D.node;for(var L in K){var N=K[L];D.fn[L]=Q[N](M[L]||P[L])}}});D.extend(D.map,{some:function(K){return function(){var L=arguments;return this.some(function(M){return K.apply(M,L)})}},every:function(K){return function(){var L=arguments;return this.every(function(M){return K.apply(M,L)})}},forEach:function(K){return function(){var L=arguments;this.forEach(function(M){K.apply(M,L)});return this}},merge:function(K){return function(){var L=arguments;var M=new D();this.forEach(function(N){M.merge(K.apply(N,L))});return M}},getterSetter:function(K){return function(){var L=arguments;if(L.length==1){return this.length?K.call(this[0],L[0]):B}this.forEach(function(M){K.apply(M,L)});return this}},returnFirst:function(K){return function(){return K.apply(this[0],arguments)}}});D.node.extend({parent:function(K){var L=this.parentNode;while(L){if(L.matches(K)){return L}L=L.parentNode}}});D.element.extend({find:function(K){return new D(K,this)},findFirst:function(K){return this.querySelector(K)},matches:(E.webkitMatchesSelector||E.mozMatchesSelector),addClass:function(L){var K=this.className.split(I);if(K.indexOf(L)==-1){K.push(L);this.className=K.join(" ")}return this},removeClass:function(M){var L=this.className.split(I);var K=L.indexOf(M);if(K!=-1){L.splice(K,1)}if(L.length==0){this.removeAttr("class")}else{this.className=L.join(" ")}return this},hasClass:function(K){return this.className.split(I).indexOf(K)!=-1},toggleClass:function(K){if(this.hasClass(K)){this.removeClass(K)}else{this.addClass(K)}return this},attr:function(K,M){if(typeof K=="object"){for(var L in K){this.setAttribute([L],K[L])}}else{if(M!==B){this.setAttribute(K,M);return this}else{return this.getAttribute(K)}}},css:function(L,N){if(typeof L=="object"){for(var M in L){this.css(M,L[M])}}else{if(N!==B){if(typeof N=="number"&&!H.test(L)){N+="px"}this.style[L]=N;return this}else{N=this.style[L];if(!N){L=L.replace(J,"-$1").toLowerCase();var K=G.getComputedStyle(this,null);N=K.getPropertyValue(L)}return N}}},removeAttr:function(K){this.removeAttribute(K);return this},make:function(L){this.__proto__=L.prototype||L.__proto__;var K=D.toArray(arguments);K.shift();if("init" in this){this.init.apply(this,K)}return this},html:function(L){if(L===B){return this.innerHTML}else{if(typeof L=="string"){this.innerHTML=L}else{var K=this;this.innerHTML="";L=D.toArray(L);D.forEach(L,function(M){K.append(M)})}}return this},text:function(K){if(K===B){return this.innerText}else{this.innerText=K}return this},cleanWhitespace:function(){var L=this.firstChild;while(L){var K=L;L=L.nextSibling;if(K.nodeType==3){this.removeChild(K)}}},val:function(P){if(P===B){if(this.nodeName=="SELECT"&&this.type=="select-multiple"){var N=this.selectedIndex,L=[],M=this.options;if(N==-1){return L}for(var K=M.length;N<K;N++){var O=M[N];if(O.selected){L.push(O.value)}}return L}return(this.value||"").replace(/\r/g,"")}if(typeof P==="number"){P+=""}if(P instanceof Array&&this.type=="radio"||this.type=="checkbox"){this.checked=P.indexOf(this.value)!=-1}else{if(this.nodeName=="SELECT"){if(P){var L=P instanceof Array?P:[P],M=this.options;for(var N=0,K=M.length;N<K;N++){var O=M[N];if(L.indexOf(O.value)!=-1){O.selected=true}}}else{this.selectedIndex=-1}}else{this.value=P}}},after:function(L){var M=D.fragment(L);var K=D.toArray(M.childeNodes);this.parentNode.insertBefore(M,this.nextSibling);return K},append:function(L){if(!L||(L.hasOwnProperty("length")&&!L.length)){return }var M=D.fragment(L);var K=D(M.childNodes);this.appendChild(M);return K},before:function(L){var M=D.fragment(L);var K=D.toArray(M.childeNodes);this.parentNode.insertBefore(M,this);return K},prepend:function(L){var M=D.fragment(L);var K=D.toArray(M.childeNodes);this.insertBefore(M,this.firstChild);return K},dataStore:function(K,L){if(L===B){if("_data" in this){return this._data[K]}}else{if(!("_data" in this)){this._data={}}this._data[K]=L}},outerWidth:function(L){if(L===B){return this.offsetWidth}else{var M=parseInt(this.css("paddingLeft"))+parseInt(this.css("paddingRight"));var K=parseInt(this.css("borderLeftWidth"))+parseInt(this.css("borderRightWidth"));this.css("width",Math.max(L-M-K,0))}},outerHeight:function(L){if(L===B){return this.offsetHeight}else{var M=parseInt(this.css("paddingTop"))+parseInt(this.css("paddingBottom"));var K=parseInt(this.css("borderTopWidth"))+parseInt(this.css("borderBottomWidth"));this.css("height",Math.max(L-M-K,0))}},width:function(L){if(L===B){var M=parseInt(this.css("paddingLeft"))+parseInt(this.css("paddingRight"));var K=parseInt(this.css("borderLeftWidth"))+parseInt(this.css("borderRightWidth"));return this.offsetWidth-M-K}else{this.css("width",Math.max(L,0))}},height:function(L){if(L===B){var M=parseInt(this.css("paddingTop"))+parseInt(this.css("paddingBottom"));var K=parseInt(this.css("borderTopWidth"))+parseInt(this.css("borderBottomWidth"));return this.offsetHeight-M-K}else{this.css("height",Math.max(L,0))}},rect:function(N){if(N===B){var L=this.getBoundingClientRect();return{left:L.left,top:L.top,width:L.width,height:L.height,right:L.right,bottom:L.bottom}}else{var L=this.getBoundingClientRect();var M=this.offsetLeft-L.left;var K=this.offsetTop-L.top;if("left" in N){this.css("left",N.left+M)}if("top" in N){this.css("top",N.top+K)}if("right" in N){this.css("width",N.right-N.left+M)}if("bottom" in N){this.css("height",N.bottom-N.top+K)}if("width" in N){this.outerWidth(N.width)}if("height" in N){this.outerHeight(N.height)}}},show:function(){this.css("display","")},hide:function(){this.css("display","none")},visible:function(){return this.rect().width!=0}});HTMLDocument.prototype.find=D.element.find;HTMLDocument.prototype.findFirst=D.element.findFirst;D.map({matches:"every",addClass:"forEach",removeClass:"forEach",hasClass:"some",toggleClass:"forEach",attr:"getterSetter",removeAttr:"forEach",css:"getterSetter",make:"forEach",html:"getterSetter",text:"getterSetter",val:"getterSetter",cleanWhitespace:"forEach",after:"merge",append:"merge",before:"merge",prepend:"merge",dataStore:"getterSetter",width:"getterSetter",height:"getterSetter",outerWidth:"getterSetter",outerHeight:"getterSetter",rect:"getterSetter"})})();Function.prototype.bind=function(D){var E=this,B=[];for(var C=1,A=arguments.length;C<A;C++){B.push(arguments[C])}return function(){var G=[];for(var H=0,F=arguments.length;H<F;H++){G.push(arguments[H])}G=G.concat(B);return E.apply(D,G)}};Function.prototype.start=function(A){if(this.timer){return }this.timer=setInterval(this,A*1000);this();return this.timer};Function.prototype.stop=function(){clearInterval(this.timer);delete this.timer};Function.prototype.running=function(){return !!this.timer};Function.prototype.throttle=function(A,B){var D=this;var C=function(){if(C.throttled){C.pending=true;return C.throttled}C.throttled=setTimeout(function(){delete C.throttled;if(C.pending){delete C.pending;C.call(A,B)}},A);return D.apply(B,arguments)};return C};function Class(B,E){E=E||function(){if(this.init){return this.init.apply(this,arguments)}};if(B){if(B.extend){Class.subclass.prototype=B.extend.prototype;E.prototype=new Class.subclass();delete B.extend}if(B.implement){var C=B.implement instanceof Array?B.implement:[B.implement];for(var D=0,A=C.length;D<A;D++){Class.implement(E,C[D])}delete B.implement}Class.mixin(E,B)}E.prototype.constructor=E;E.prototype.callSuper=Class.callSuper;return E}simpli5.extend(Class,{subclass:function(){},callSuper:function(F){var E=this.__curProto__||(this.__proto__[F]==this[F]?this.__proto__:this);var D=E.__proto__;while(D&&!D.hasOwnProperty(F)){D=D.__proto__}if(!D){throw'There is no super method "'+F+'" for '+this}this.__curProto__=D;var B=simpli5.toArray(arguments).slice(1);var C=D.__lookupSetter__(F)||D[F];var A=C.apply(this,B);this.__curProto__=E;return A},implement:function(B,A){Class.mixin(B,A.prototype,true)},mixin:function(E,B,C){for(var D in B){if(!C&&!B.hasOwnProperty(D)){continue}var A=B.__lookupGetter__(D),F=B.__lookupSetter__(D);if(A||F){if(A){E.prototype.__defineGetter__(D,A)}if(F){E.prototype.__defineSetter__(D,F)}}else{E.prototype[D]=B[D]}}},make:function(A,C,D){A.__proto__=C.prototype;var B=simpli5.toArray(arguments);B.splice(0,3);if(!D&&"init" in A){A.init.apply(A,B)}},insert:function(A,D){var C={};for(var B in D.prototype){if(D.prototype.hasOwnProperty(B)){C[B]=D.prototype[B]}}C.__proto__=A.__proto__;A.__proto__=C}});var CustomEvent=new Class({extend:Event,init:function(D,C,B){var A=document.createEvent("Events");A.initEvent(D,C||false,B||false);Class.make(A,this.constructor,true);return A}});var CustomMouseEvent=new Class({extend:MouseEvent,init:function(N,H,E,O,J,G,F,D,B,C,A,M,L,I,K){var P=document.createEvent("MouseEvents");P.initEvent(N,H||false,E||false,O,J,G,F,D,B,C,A,M,L,I,K);Class.make(P,this.constructor,true);return P}});var DataEvent=new Class({extend:Event,init:function(B,C){var A=document.createEvent("Events");A.initEvent(B,false,false);Class.make(A,this.constructor,true);A.data=C;return A}});var ArrayChangeEvent=new Class({extend:Event,init:function(D,E,C,B){var A=document.createEvent("Events");A.initEvent("change",false,false);Class.make(A,this.constructor,true);A.action=D;A.startIndex=E;A.endIndex=C;A.items=B;return A}});var EventDispatcher=new Class({createClosures:function(D){if(!(D instanceof Array)){if(arguments.length==1&&typeof D=="string"&&D.indexOf(",")!=-1){D=D.split(/\s*,\s*/)}else{D=simpli5.toArray(arguments)}}for(var C=0,A=D.length;C<A;C++){var B=D[C];if(B in this){this[B]=this[B].bind(this)}}},addEventListener:function(B,C){if(typeof C!="function"){throw"Listener must be a function"}if(!this.events){this.events={}}var A=this.events[B];if(!A){this.events[B]=A=[]}else{if(A.indexOf(C)!=-1){return }}A.push(C)},removeEventListener:function(C,D){if(!this.events){return }var B=this.events[C];if(!B){return }var A=B.indexOf(D);if(A!=-1){B.splice(A,1)}},dispatchEvent:function(D){if(!this.events){return }var C=this.events[D.type];if(!C){return }for(var B=0,A=C.length;B<A;B++){C[B].call(this,D)}}});simpli5.extend(EventDispatcher.prototype,{on:function(E,F,B){var D=E.split(/\s*,\s*/);if(F instanceof NodeList){console.log(F,F.bind)}F.bound=F.bind(this);F=F.bound;for(var C=0,A=D.length;C<A;C++){this.addEventListener(D[C],F,B)}return this},un:function(E,F,B){var D=E.split(/\s*,\s*/);F=F.bound||F;for(var C=0,A=D.length;C<A;C++){this.removeEventListener(D[C],F,B)}return this}});simpli5.node.extend({on:EventDispatcher.prototype.on,un:EventDispatcher.prototype.un,createClosures:EventDispatcher.prototype.createClosures});simpli5.extend(window,{on:EventDispatcher.prototype.on,un:EventDispatcher.prototype.un});simpli5.map({on:"forEach",un:"forEach"});var PropertyChange;var Bind;var BindableArray;(function(){PropertyChange={observe:function(C,J,H,F){var I=J.split(/\s*,\s*/);var G=C.__observers__;if(!G){C.__observers__=G={}}for(var D=0,B=I.length;D<B;D++){J=I[D];if(typeof C=="function"&&F){J="("+J+")"}if(!this.isObservable(C,J)){this.makeObservable(C,J)}var E=G[J];if(!E){G[J]=E=[]}if(E.indexOf(H)==-1){E.push(H)}}},unobserve:function(C,J,H){var I=J.split(/\s*,\s*/);var G=C.__observers__;if(!G){return }for(var D=0,B=I.length;D<B;D++){J=I[D];var E=G[J];if(!E){continue}var F=E.indexOf(H);E.splice(F,1)}},dispatch:function(G,K,B,C,D){if(!D&&B===C){return }var J=G.__observers__,H,F;if(!J){return }var I=[].concat(J[K]||[]).concat(J["*"]||[]);for(H=0,F=I.length;H<F;H++){I[H](K,B,C,G)}var E=G.constructor;K="()";while(E){J=E.__observers__;E=E.prototype.__proto__?E.prototype.__proto__.constructor:null;if(!J){continue}I=[].concat(J[K]||[]).concat(J["(*)"]||[]);for(H=0,F=I.length;H<F;H++){I[H](K,B,C,G)}}},isObservable:function(C,B){var D=C.__lookupSetter__(B);if(D&&D.observable){return true}if(!D||D.toString().indexOf("PropertyChange.dispatch")==-1){return false}else{D.observable=true;return true}},makeObservable:function(D,C){var B=D.__lookupGetter__(C);var F=D.__lookupSetter__(C);if(B&&F){D.__defineSetter__(C,function(H){var G=B.call(D);if(G==H){return }F.call(this,H);H=B.call(D);PropertyChange.dispatch(D,C,G,H)})}else{var E=D[C];D.__defineGetter__(C,function(){return E});D.__defineSetter__(C,function(H){var G=E;if(G==H){return }E=H;PropertyChange.dispatch(D,C,G,H)});D.__lookupSetter__(C).observable=true}}};Bind={property:function(D,G,E,B,C){var F=new A(D,G,E,B,C);var H=D.__bindings__;if(!H){D.__bindings__=H=[]}H.push(F);H=E.__bindings__;if(!H){E.__bindings__=H=[]}H.push(F)},setter:function(B,D,F){var C=new A(B,D,F);var E=B.__bindings__;if(!E){B.__bindings__=E=[]}E.push(C)},removeProperty:function(B,C,K,H,F){var E=B.__bindings__;var D=K.__bindings__;if(!E||!D){return }for(var I=0,G=E.length;I<G;I++){var L=E[I];if(L.matches(B,C,K,H,F)){L.release();E.splice(I,1);var J=D.indexOf(L);if(J!=-1){D.splice(J,1)}break}}},removeSetter:function(E,D,H){var G=E.__bindings__;if(!G){return }for(var C=0,B=G.length;C<B;C++){var F=G[C];if(F.matches(E,D,H)){F.release();G.splice(C,1);break}}},removeAll:function(G){var I=G.__bindings__,E;if(!I){return }for(var F=0,B=I.length;F<B;F++){var H=I[F];if(H.source.length){var C=H.source[0];E=C.__bindings__.indexOf(H);if(E!=-1){C.__bindings__.splice(E,1)}}if(H.target.length){var D=H.target[0];E=D.__bindings__.indexOf(H);if(E!=-1){D.__bindings__.splice(E,1)}}H.release()}I.length=0}};var A=new Class({init:function(D,C,E,F,B){this.onChange=this.onChange.bind(this);this.source=[];this.target=[];this.reset(D,C,E,F,B)},matches:function(D,C,E,F,B){if(typeof E=="function"&&F==null){return(this.source[0]==D&&this.sourcePath.join(".")==C&&this.setter==E)}else{return(this.source[0]==D&&this.sourcePath.join(".")==C&&this.target[0]==E&&this.targetPath.join(".")==F&&this.twoWay==B)}},release:function(){this.unbindPath("source",0);this.unbindPath("target",0);this.setter=null;this.sourcePath=null;this.targetPath=null;this.twoWay=false;this.sourceResolved=false;this.targetResolved=false;this.value=undefined},reset:function(D,C,E,F,B){this.release();this.twoWay=B;if(typeof E=="function"&&F==null){this.setter=E;this.targetPath=[]}else{this.targetPath=F.split(".")}this.sourcePath=C.split(".");this.bindPath("target",E,0);this.update("source",D,0)},bindPath:function(G,E,B){var C,D,H=this[G+"Path"],F,I=this[G];this.unbindPath(G,B);for(C=B,D=H.length;C<D;C++){if(E==null){break}I[C]=E;F=H[C];if(B<D-1||this.twoWay||G=="source"){PropertyChange.observe(E,F,this.onChange)}E=E[F]}this[G+"Resolved"]=(C==D||E!=null);return this[G+"Resolved"]?E:undefined},unbindPath:function(D,B){var E=this[D+"Path"],F=this[D],C=F.length;while(C-->B){PropertyChange.unobserve(F[C],E[C],this.onChange)}F.length=B},update:function(E,K,G){G=G||0;var B=this.value;this.value=this.bindPath(E,K,G);this.updating=true;if(this.setter){var I=this.source[this.source.length-1];this.setter.call(I,this.sourcePath[this.sourcePath.length-1],B,this.value,I)}var H=(E=="source"?"target":"source");var J=this[H+"Resolved"];if(J){var F=this[H+"Path"];var D=this[H][F.length-1];if(D){var C=F[F.length-1];D[C]=this.value}}this.updating=false},onChange:function(D,C,F,E){if(this.updating){return }var B,G;if((B=this.source.indexOf(E))!=-1){G=this.sourcePath[B];if(G==D){this.update("source",F,B+1);return }}if((B=this.target.indexOf(E))!=-1){G=this.targetPath[B];if(G==D){if(this.twoWay){this.update("target",F,B+1)}else{this.bindPath("target",F,B+1);if(this.sourceResolved&&this.targetResolved){E=this.target[this.targetPath.length-1];G=this.targetPath[this.targetPath.length-1];E[G]=this.value}}}}}});BindableArray=new Class({extend:Array,implement:EventDispatcher,push:function(){var D=$.toArray(arguments);var C=D.slice();D.unshift("push");var B=this.callSuper.apply(this,D);this.dispatchEvent(new ArrayChangeEvent("add",this.length-C.length,this.length-1,C));return B},pop:function(){var B=this.callSuper.call(this,"pop");this.dispatchEvent(new ArrayChangeEvent("remove",this.length,this.length,[B]));return B},shift:function(){var B=this.callSuper.call(this,"shift");this.dispatchEvent(new ArrayChangeEvent("remove",0,0,[B]));return B},unshift:function(){var D=$.toArray(arguments);var C=D.slice();D.unshift("unshift");var B=this.callSuper.apply(this,D);this.dispatchEvent(new ArrayChangeEvent("add",0,C.length,C));return B},splice:function(E,G,F){var D=$.toArray(arguments);var C=D.slice(2);D.unshift("splice");var B=this.callSuper.apply(this,D);if(G){this.dispatchEvent(new ArrayChangeEvent("remove",E,G,B))}if(C.length){this.dispatchEvent(new ArrayChangeEvent("add",E,C.length-1,C))}return B},sort:function(){var D=$.toArray(arguments);var C=D.slice(2);D.unshift("sort");var B=this.callSuper.apply(this,D);this.dispatchEvent(new ArrayChangeEvent("reset",0,this.length-1,this));return B},reverse:function(){var B=this.callSuper("reverse");this.dispatchEvent(new ArrayChangeEvent("reset",0,this.length-1,this));return B}})})();var Template=new Class({init:function(A){this.compiled=null;if(arguments.length){this.set.apply(this,arguments)}},placeholdersExp:/\{([^\{\}]+)\}/g,slashesExp:/\\/g,fixCarriageExp:/(\r\n|\n)/g,escapeSingleExp:/'/g,unEscapeSingleExp:/\\'/g,tagStartExp:/<\w/g,attributeExp:/([-\w]+)="([^"]*\{[^\}]*\}[^"]*)"/g,innerContentExp:/>([^<]*\{[^\}]*\}[^<]*)</g,propExp:/(^|\W)(this|data)\.([\w\.]+)(\()?/g,replace:function(m,code,index,str,data){return eval("try { "+code+" }catch(e) {}")||""},set:function(D){var E=false;var B=[];for(var C=0,A=arguments.length;C<A;C++){var F=arguments[C];if(F instanceof Array){B=B.concat(F)}else{if(typeof F==="string"){B.push(F)}else{if(typeof F==="boolean"){E=F}}}}this.html=B.join("")||"";if(E){this.compile()}return this},apply:function(B){if(this.compiled){return this.compiled(B)}var A=this.replace.bind(this,B);return this.html.replace(this.placeholdersExp,A)},compileReplace:function(A,B){return"' + (("+B.replace(this.unEscapeSingleExp,"'")+") || '') + '"},compileReplaceArray:function(A,B){return"', (("+B.replace(this.unEscapeSingleExp,"'")+") || ''), '"},compile:function(){try{var func="function(data) { return '"+this.html.replace(this.slashesExp,"\\\\").replace(this.fixCarriageExp,"\\n").replace(this.escapeSingleExp,"\\'").replace(this.placeholdersExp,this.compileReplace)+"'; }";this.compiled=eval("("+func+")")}catch(e){throw'Error creating template "'+e+'" for template:\n'+this.html}return this},create:function(B){var A=this.apply(B);return simpli5.fragment(A).firstChild},createBound:function(data){var topElement=simpli5.fragment(this.html).firstChild;data=data||{};if(!this.html.match(this.placeholdersExp)){return topElement}var nodes=topElement.find("*");nodes.unshift(topElement);var nodeIndexes=[];while(this.tagStartExp.test(this.html)){nodeIndexes.push(this.tagStartExp.lastIndex-2)}var match,setter;while((match=this.attributeExp.exec(this.html))){var attr=match[1];var value=match[2];var element=null,index=this.attributeExp.lastIndex;for(var i=0;i<nodeIndexes.length;i++){if(index<nodeIndexes[i]){element=nodes[i-1];break}}if(!element){element=nodes[nodes.length-1]}setter=eval("(function() { element.attr('"+attr+"', '"+value.replace(this.slashesExp,"\\\\").replace(this.fixCarriageExp,"\\n").replace(this.escapeSingleExp,"\\'").replace(this.placeholdersExp,this.compileReplace)+"'); })").bind(topElement);while((match=this.placeholdersExp.exec(value))){var code=match[1];while((match=this.propExp.exec(code))){if(match[4]){continue}var obj=match[2]=="this"?topElement:data;var prop=match[3];Bind.setter(obj,prop,setter)}}setter()}while((match=this.innerContentExp.exec(this.html))){var content=match[1];var element=null,index=this.innerContentExp.lastIndex;for(var i=0;i<nodeIndexes.length;i++){if(index<nodeIndexes[i]){element=nodes[i-1];break}}if(!element){element=nodes[nodes.length-1]}setter=eval("(function() { element.html(['"+content.replace(this.slashesExp,"\\\\").replace(this.fixCarriageExp,"\\n").replace(this.escapeSingleExp,"\\'").replace(this.placeholdersExp,this.compileReplaceArray)+"']); })").bind(topElement);while((match=this.placeholdersExp.exec(content))){var code=match[1];while((match=this.propExp.exec(code))){if(match[4]){continue}var obj=match[2]=="this"?topElement:data;var prop=match[3];Bind.setter(obj,prop,setter)}}setter()}return topElement}});function Component(A){function B(D){var C=this.template.createBound(D);C.__proto__=this.__proto__;if(!(C instanceof HTMLElement)){throw"Components must extend HTMLElement or a subclass."}if(C.init){C.init.apply(C,arguments)}return C}return new Class(A,B)}var Button=new Component({extend:HTMLButtonElement,template:new Template("<button></button>"),init:function(){},get labelfunction(){return this.text()},set labelfunction(A){this.text(A)}});(function(){function A(D){var F=D.relatedTarget;var B=D.target;while(F){if(F.parentNode==B){return }F=F.parentNode}B=D.target.parentNode;var C=[];while(B){C.push(B);B=B.parentNode}B=D.relatedTarget;while(B){if(C.indexOf(B)!=-1){break}B=B.parentNode}F=D.target;while(F){var E=document.createEvent("MouseEvents");E.initEvent(D.type.replace("mouse","roll"),false,D.cancelable,D.view,D.detail,D.screenX,D.screenY,D.ctrlKey,D.altKey,D.metaKey,D.button,D.relatedTarget);F.dispatchEvent(E);F=F.parentNode;if(F==B){break}}}document.addEventListener("mouseover",A,false);document.addEventListener("mouseout",A,false)})();Storage.prototype.get=function(A){return JSON.parse(this.getItem(A))};Storage.prototype.set=function(A,B){this.setItem(A,JSON.stringify(B))};simpli5.extend(Storage,{get:function(B,A){if(B in sessionStorage){return JSON.parse(sessionStorage[B])}else{if(B in localStorage){return JSON.parse(localStorage[B])}else{return A||false}}},set:function(A,B){B=JSON.stringify(B);sessionStorage[A]=B;localStorage[A]=B}});